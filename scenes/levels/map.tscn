[gd_scene load_steps=15 format=3 uid="uid://hooy7ane5khx"]

[ext_resource type="Script" path="res://scenes/levels/map.gd" id="1_su3uq"]
[ext_resource type="PackedScene" uid="uid://1dlw0dqlf84k" path="res://scenes/utils/spawner/spawner.tscn" id="2_rm8mk"]
[ext_resource type="PackedScene" uid="uid://bhbpuedpj1d3l" path="res://scenes/actors/player/player.tscn" id="2_xd5cu"]
[ext_resource type="Script" path="res://scenes/utils/spawner/LevelData.gd" id="3_sb12f"]
[ext_resource type="Script" path="res://scenes/levels/camera_manager.gd" id="3_vjjyf"]
[ext_resource type="Script" path="res://scenes/utils/spawner/SpawnableChance.gd" id="4_f32e1"]
[ext_resource type="PackedScene" uid="uid://mdjn5erhyg8u" path="res://scenes/actors/bubbles/bubble.tscn" id="5_kyp5i"]

[sub_resource type="Resource" id="Resource_6s1yd"]
script = ExtResource("4_f32e1")
spawnable = ExtResource("5_kyp5i")
chance = 1

[sub_resource type="Resource" id="Resource_ba807"]
script = ExtResource("3_sb12f")
spawnables = Array[ExtResource("4_f32e1")]([SubResource("Resource_6s1yd")])
spawn_interval = 3.0
spawn_count = 1

[sub_resource type="Gradient" id="Gradient_o0own"]
offsets = PackedFloat32Array(0, 0.685, 0.9)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_j8vex"]
gradient = SubResource("Gradient_o0own")
fill = 1
fill_from = Vector2(0.478659, 0.493902)
fill_to = Vector2(0.783537, 0.807927)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_r1his"]
size = Vector2(2176, 142)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gg7th"]
size = Vector2(128, 1093)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ekr4v"]
size = Vector2(125, 1088.5)

[node name="Map" type="Node2D" node_paths=PackedStringArray("player", "camera")]
script = ExtResource("1_su3uq")
player = NodePath("Player")
camera = NodePath("Camera2D")

[node name="Spawner" parent="." instance=ExtResource("2_rm8mk")]
levels = Array[ExtResource("3_sb12f")]([SubResource("Resource_ba807")])

[node name="Levels" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Player" parent="." instance=ExtResource("2_xd5cu")]
unique_name_in_owner = true
position = Vector2(952, 552)
speed = 350.0

[node name="PointLight2D" type="PointLight2D" parent="Player"]
texture = SubResource("GradientTexture2D_j8vex")
texture_scale = 33.95

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("player")]
position = Vector2(960, 544)
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_left_margin = 1.0
drag_top_margin = 1.0
drag_right_margin = 1.0
drag_bottom_margin = 1.0
script = ExtResource("3_vjjyf")
player = NodePath("../Player")

[node name="StaticBody2D" type="StaticBody2D" parent="Camera2D"]
position = Vector2(1152, -451)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Camera2D/StaticBody2D"]
position = Vector2(-1152, -157)
shape = SubResource("RectangleShape2D_r1his")

[node name="StaticBody2D2" type="StaticBody2D" parent="Camera2D"]
position = Vector2(-120, 605)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Camera2D/StaticBody2D2"]
position = Vector2(-904, -607.5)
shape = SubResource("RectangleShape2D_gg7th")

[node name="StaticBody2D3" type="StaticBody2D" parent="Camera2D"]
position = Vector2(656, 128)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Camera2D/StaticBody2D3"]
position = Vector2(368, -125.25)
shape = SubResource("RectangleShape2D_ekr4v")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0, 0, 0, 1)

[connection signal="level_change" from="." to="Spawner" method="_on_map_level_change"]
